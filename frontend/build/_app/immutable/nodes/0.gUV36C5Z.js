import{s as j,n as L,o as J,j as X,r as Y,e as Z,u as ee,g as te,f as se}from"../chunks/scheduler.h1jTRUOO.js";import{S as N,i as A,e as y,b,g as z,k as p,l as C,x as T,d as _,s as k,f as E,a as x,m as g,C as F,w as K,q as V,r as B,u as P,c as D,j as R,v as ae,n as H,t as q,o as O,p as I}from"../chunks/index.P28DLdQx.js";import{o as ne}from"../chunks/entry.WeLYTIo4.js";import{_ as re}from"../chunks/preload-helper.0HuHagjb.js";import{e as M}from"../chunks/each.6w4Ej4nR.js";import{c as le}from"../chunks/client._1iTYoDs.js";const ie=!0,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:ie},Symbol.toStringTag,{value:"Module"}));function oe(d){let e,n='<span class="truncate | shrink grow basis-6">Rechercher</span> <i class="search-icon svelte-1t63zay"></i>',a,r;return{c(){e=y("button"),e.innerHTML=n,this.h()},l(t){e=b(t,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-13x0i8q"&&(e.innerHTML=n),this.h()},h(){p(e,"class","relative | flex shrink min-w-2 items-center justify-between gap-4 | px-4 py-2 | border-2 rounded-md")},m(t,o){C(t,e,o),a||(r=T(e,"click",d[1]),a=!0)},p:L,i:L,o:L,d(t){t&&_(e),a=!1,r()}}}function ce(d,e,n){let a;return J(()=>{let t=document.querySelector("#search-dialog");n(0,a=()=>{t.showModal()})}),[a,()=>a()]}class ue extends N{constructor(e){super(),A(this,e,ce,oe,j,{})}}function de(d){let e,n,a,r,t,o,s,l="Rechercher",u,i,c,m;return{c(){e=y("dialog"),n=y("div"),a=y("search"),r=y("icon"),t=k(),o=y("form"),s=y("label"),s.textContent=l,u=k(),i=y("input"),this.h()},l($){e=b($,"DIALOG",{id:!0,class:!0});var h=E(e);n=b(h,"DIV",{id:!0,class:!0});var f=E(n);a=b(f,"SEARCH",{id:!0,class:!0});var v=E(a);r=b(v,"ICON",{class:!0}),E(r).forEach(_),t=x(v),o=b(v,"FORM",{});var w=E(o);s=b(w,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(s)!=="svelte-1gsdvn0"&&(s.textContent=l),u=x(w),i=b(w,"INPUT",{class:!0,type:!0,name:!0,id:!0,placeholder:!0}),w.forEach(_),v.forEach(_),f.forEach(_),h.forEach(_),this.h()},h(){p(r,"class","search-icon | shrink-0"),p(s,"class","sr-only"),p(s,"for","search"),p(i,"class","w-full | bg-inherit | outline-none | text-black"),p(i,"type","text"),p(i,"name","search"),p(i,"id","search"),p(i,"placeholder","Rechercher"),p(a,"id","search-box-open"),p(a,"class","flex items-center gap-4 | border-2 border-slate-400 rounded-md | px-4 py-2 | bg-white"),p(n,"id","inner-dialog"),p(n,"class","relative"),p(e,"id","search-dialog"),p(e,"class","svelte-1pe75uz")},m($,h){C($,e,h),g(e,n),g(n,a),g(a,r),g(a,t),g(a,o),g(o,s),g(o,u),g(o,i),F(i,d[1]),c||(m=[T(i,"keyup",d[3]),T(i,"input",d[4]),T(e,"click",function(){X(d[0])&&d[0].apply(this,arguments)})],c=!0)},p($,[h]){d=$,h&2&&i.value!==d[1]&&F(i,d[1])},i:L,o:L,d($){$&&_(e),c=!1,Y(m)}}}function fe(d,e,n){let a,r,t;J(()=>{r=document.querySelector("#search-dialog"),n(0,a=i=>{i.target==r&&r.close()})});let o="";const s=async()=>{const c=await(await re(()=>import("/pagefind/pagefind.js"),__vite__mapDeps([]),import.meta.url)).search(o);let m=c.results.length,$=document.createDocumentFragment();t&&(t.innerHTML="");let h=document.querySelector(".pagefind-message");if(t=document.querySelector(".pagefind-results"),h)h.textContent=`${m} résultats pour "${o}"`;else{let w=document.querySelector("#inner-dialog");t||(t=document.createElement("div"),t.classList.add("pagefind-results","flex","flex-col","bg-white","px-4","py-2","border-2","border-white","rounded-md"),w.appendChild(t)),h=document.createElement("p"),h.classList.add("pagefind-results-message"),h.innerHTML+=`${m} résultats pour <em>"${o}"</em>`}let f=document.createElement("ol");f.classList.add("pagefind-results-list");for(const w of c.results){let S=await w.data();console.log("data",S),f.innerHTML+=`
      <li><a class="pagefind-result-list-link" href="${S.url.replace(".html","")}">${S.meta.title}</a>
        <p class="pagefind-result-list-excerpt">${S.excerpt}</p>
        </li>
      `}$.appendChild(h),$.appendChild(f),t.appendChild($),document.querySelectorAll(".pagefind-result-list-link").forEach(w=>{w.addEventListener("click",()=>{w.closest("#search-dialog").close()})})},l=()=>s();function u(){o=this.value,n(1,o)}return[a,o,s,l,u]}class he extends N{constructor(e){super(),A(this,e,fe,de,j,{})}}function U(d,e,n){const a=d.slice();return a[4]=e[n],a[6]=n,a}function G(d,e,n){const a=d.slice();return a[7]=e[n],a}function Q(d){let e,n,a=d[7][1].node.emoji+"",r,t,o,s=d[7][1].node.titre+"",l,u;return{c(){e=y("a"),n=y("i"),r=V(a),t=k(),o=y("span"),l=V(s),this.h()},l(i){e=b(i,"A",{href:!0,class:!0});var c=E(e);n=b(c,"I",{"aria-hidden":!0});var m=E(n);r=B(m,a),m.forEach(_),t=x(c),o=b(c,"SPAN",{class:!0});var $=E(o);l=B($,s),$.forEach(_),c.forEach(_),this.h()},h(){p(n,"aria-hidden","true"),p(o,"class","svelte-1rt85q7"),p(e,"href",u="/pages/"+d[7][1].node._sys.filename),p(e,"class","svelte-1rt85q7")},m(i,c){C(i,e,c),g(e,n),g(n,r),g(e,t),g(e,o),g(o,l)},p(i,c){c&1&&a!==(a=i[7][1].node.emoji+"")&&P(r,a),c&1&&s!==(s=i[7][1].node.titre+"")&&P(l,s),c&1&&u!==(u="/pages/"+i[7][1].node._sys.filename)&&p(e,"href",u)},d(i){i&&_(e)}}}function W(d){let e,n,a=d[4][0]+"",r,t,o,s=M(Object.entries(d[4][1])),l=[];for(let u=0;u<s.length;u+=1)l[u]=Q(G(d,s,u));return{c(){e=y("li"),n=y("span"),r=V(a),t=k();for(let u=0;u<l.length;u+=1)l[u].c();o=k(),this.h()},l(u){e=b(u,"LI",{class:!0});var i=E(e);n=b(i,"SPAN",{class:!0});var c=E(n);r=B(c,a),c.forEach(_),t=x(i);for(let m=0;m<l.length;m+=1)l[m].l(i);o=x(i),i.forEach(_),this.h()},h(){p(n,"class","eyebrow svelte-1rt85q7"),p(e,"class","svelte-1rt85q7")},m(u,i){C(u,e,i),g(e,n),g(n,r),g(e,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);g(e,o)},p(u,i){if(i&1&&a!==(a=u[4][0]+"")&&P(r,a),i&1){s=M(Object.entries(u[4][1]));let c;for(c=0;c<s.length;c+=1){const m=G(u,s,c);l[c]?l[c].p(m,i):(l[c]=Q(m),l[c].c(),l[c].m(e,o))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},d(u){u&&_(e),K(l,u)}}}function pe(d){let e,n,a=M(Object.entries(d[0])),r=[];for(let t=0;t<a.length;t+=1)r[t]=W(U(d,a,t));return{c(){e=y("nav"),n=y("menu");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=b(t,"NAV",{class:!0});var o=E(e);n=b(o,"MENU",{class:!0});var s=E(n);for(let l=0;l<r.length;l+=1)r[l].l(s);s.forEach(_),o.forEach(_),this.h()},h(){p(n,"class","svelte-1rt85q7"),p(e,"class","pl-4 pr-8 pt-8 | border-r-2")},m(t,o){C(t,e,o),g(e,n);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(n,null)},p(t,[o]){if(o&1){a=M(Object.entries(t[0]));let s;for(s=0;s<a.length;s+=1){const l=U(t,a,s);r[s]?r[s].p(l,o):(r[s]=W(l),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=a.length}},i:L,o:L,d(t){t&&_(e),K(r,t)}}}function me(d,e,n){let a=[];async function r(){const s=await le.queries.pagesConnection();try{const{data:{pagesConnection:{edges:l}}}=s;return a=l,a}catch{console.error(500,"Could not find articles on the server")}}r();let t=[];async function o(){return a=await r(),n(0,t=a.reduce((s,l)=>(l.node.categorie in s||(s[l.node.categorie]=[]),s[l.node.categorie].push(l),s),{})),t}return o(),[t]}class ge extends N{constructor(e){super(),A(this,e,me,pe,j,{})}}function _e(d){let e,n,a='<div class="header-img-container | shrink-0" style="max-height: inherit;"><a href="/"><img class="max-h-10" width="36.36" height="39.99" src="/vue.svg" alt="Blason de la commune de Vue"/></a></div> <a href="/"><span class="text-xl" style="min-width: min-content;">Commune de Vue</span></a>',r,t,o,s,l,u,i,c,m;t=new ue({}),s=new he({}),i=new ge({});const $=d[1].default,h=Z($,d,d[0],null);return{c(){e=y("header"),n=y("div"),n.innerHTML=a,r=k(),D(t.$$.fragment),o=k(),D(s.$$.fragment),l=k(),u=y("div"),D(i.$$.fragment),c=k(),h&&h.c(),this.h()},l(f){e=b(f,"HEADER",{class:!0});var v=E(e);n=b(v,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),z(n)!=="svelte-19ibqws"&&(n.innerHTML=a),r=x(v),R(t.$$.fragment,v),o=x(v),R(s.$$.fragment,v),v.forEach(_),l=x(f),u=b(f,"DIV",{class:!0});var w=E(u);R(i.$$.fragment,w),c=x(w),h&&h.l(w),w.forEach(_),this.h()},h(){p(n,"class","header-flexer | flex gap-4 items-center"),ae(n,"max-height","inherit"),p(e,"class","px-8 py-4 border-b-2 | flex justify-between gap-2"),p(u,"class","content-wrapper | px-8 pb-8 | mx-auto | flex svelte-1nayymi")},m(f,v){C(f,e,v),g(e,n),g(e,r),H(t,e,null),g(e,o),H(s,e,null),C(f,l,v),C(f,u,v),H(i,u,null),g(u,c),h&&h.m(u,null),m=!0},p(f,[v]){h&&h.p&&(!m||v&1)&&ee(h,$,f,f[0],m?se($,f[0],v,null):te(f[0]),null)},i(f){m||(q(t.$$.fragment,f),q(s.$$.fragment,f),q(i.$$.fragment,f),q(h,f),m=!0)},o(f){O(t.$$.fragment,f),O(s.$$.fragment,f),O(i.$$.fragment,f),O(h,f),m=!1},d(f){f&&(_(e),_(l),_(u)),I(t),I(s),I(i),h&&h.d(f)}}}function ve(d,e,n){let{$$slots:a={},$$scope:r}=e;return ne(t=>{if(document.startViewTransition)return new Promise(o=>{document.startViewTransition(async()=>{o(),await t.complete})})}),d.$$set=t=>{"$$scope"in t&&n(0,r=t.$$scope)},[r,a]}class Ce extends N{constructor(e){super(),A(this,e,ve,_e,j,{})}}export{Ce as component,xe as universal};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

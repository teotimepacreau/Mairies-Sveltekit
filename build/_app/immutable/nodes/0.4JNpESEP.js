import{s as R,n as E,o as P,r as N,i as z,u as F,v as U,w as G,x as Q}from"../chunks/scheduler.s29Zrdcm.js";import{S as q,i as H,e as _,f as v,j as O,k as p,l as C,B as T,d as f,s as k,g as x,a as L,n as g,C as V,c as I,b as A,v as W,m as B,t as M,o as D,p as j}from"../chunks/index.Ppprgl1c.js";import{o as J}from"../chunks/entry.oG14Qa3T.js";import{_ as K}from"../chunks/preload-helper.0HuHagjb.js";const X=!0,ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:X},Symbol.toStringTag,{value:"Module"}));function Y(o){let e,r='<span class="truncate | shrink grow basis-6">Rechercher</span> <i class="search-icon svelte-1t63zay"></i>',n,c;return{c(){e=_("button"),e.innerHTML=r,this.h()},l(s){e=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-13x0i8q"&&(e.innerHTML=r),this.h()},h(){p(e,"class","relative | flex shrink min-w-2 items-center justify-between gap-4 | px-4 py-2 | border-2 rounded-md")},m(s,i){C(s,e,i),n||(c=T(e,"click",o[1]),n=!0)},p:E,i:E,o:E,d(s){s&&f(e),n=!1,c()}}}function Z(o,e,r){let n;return P(()=>{let s=document.querySelector("#search-dialog");r(0,n=()=>{s.showModal()})}),[n,()=>n()]}class ee extends q{constructor(e){super(),H(this,e,Z,Y,R,{})}}function te(o){let e,r,n,c,s,i,u,y="Rechercher",h,l,$,d;return{c(){e=_("dialog"),r=_("div"),n=_("search"),c=_("icon"),s=k(),i=_("form"),u=_("label"),u.textContent=y,h=k(),l=_("input"),this.h()},l(t){e=v(t,"DIALOG",{id:!0,class:!0});var a=x(e);r=v(a,"DIV",{id:!0,class:!0});var b=x(r);n=v(b,"SEARCH",{id:!0,class:!0});var w=x(n);c=v(w,"ICON",{class:!0}),x(c).forEach(f),s=L(w),i=v(w,"FORM",{});var m=x(i);u=v(m,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(u)!=="svelte-1gsdvn0"&&(u.textContent=y),h=L(m),l=v(m,"INPUT",{class:!0,type:!0,name:!0,id:!0,placeholder:!0}),m.forEach(f),w.forEach(f),b.forEach(f),a.forEach(f),this.h()},h(){p(c,"class","search-icon | shrink-0"),p(u,"class","sr-only"),p(u,"for","search"),p(l,"class","w-full | bg-inherit | outline-none | text-black"),p(l,"type","text"),p(l,"name","search"),p(l,"id","search"),p(l,"placeholder","Rechercher"),p(n,"id","search-box-open"),p(n,"class","flex items-center gap-4 | border-2 border-slate-400 rounded-md | px-4 py-2 | bg-white"),p(r,"id","inner-dialog"),p(r,"class","relative"),p(e,"id","search-dialog"),p(e,"class","svelte-1pe75uz")},m(t,a){C(t,e,a),g(e,r),g(r,n),g(n,c),g(n,s),g(n,i),g(i,u),g(i,h),g(i,l),V(l,o[1]),$||(d=[T(l,"keyup",o[3]),T(l,"input",o[4]),T(e,"click",function(){z(o[0])&&o[0].apply(this,arguments)})],$=!0)},p(t,[a]){o=t,a&2&&l.value!==o[1]&&V(l,o[1])},i:E,o:E,d(t){t&&f(e),$=!1,N(d)}}}function se(o,e,r){let n,c,s;P(()=>{c=document.querySelector("#search-dialog"),r(0,n=l=>{l.target==c&&c.close()})});let i="";const u=async()=>{const $=await(await K(()=>import("/pagefind/pagefind.js"),__vite__mapDeps([]),import.meta.url)).search(i);let d=$.results.length,t=document.createDocumentFragment();s&&(s.innerHTML="");let a=document.querySelector(".pagefind-message");if(s=document.querySelector(".pagefind-results"),a)a.textContent=`${d} résultats pour "${i}"`;else{let m=document.querySelector("#inner-dialog");s||(s=document.createElement("div"),s.classList.add("pagefind-results","flex","flex-col","bg-white","px-4","py-2","border-2","border-white","rounded-md"),m.appendChild(s)),a=document.createElement("p"),a.classList.add("pagefind-results-message"),a.innerHTML+=`${d} résultats pour <em>"${i}"</em>`}let b=document.createElement("ol");b.classList.add("pagefind-results-list");for(const m of $.results){let S=await m.data();console.log("data",S),b.innerHTML+=`
      <li><a class="pagefind-result-list-link" href="${S.url.replace(".html","")}">${S.meta.title}</a>
        <p class="pagefind-result-list-excerpt">${S.excerpt}</p>
        </li>
      `}t.appendChild(a),t.appendChild(b),s.appendChild(t),document.querySelectorAll(".pagefind-result-list-link").forEach(m=>{m.addEventListener("click",()=>{m.closest("#search-dialog").close()})})},y=()=>u();function h(){i=this.value,r(1,i)}return[n,i,u,y,h]}class ae extends q{constructor(e){super(),H(this,e,se,te,R,{})}}function re(o){let e,r,n='<div class="header-img-container | shrink-0" style="max-height: inherit;"><a href="/"><img class="max-h-10" width="36.36" height="39.99" src="/vue.svg" alt="Blason de la commune de Vue"/></a></div> <a href="/"><span class="text-xl" style="min-width: min-content;">Commune de Vue</span></a>',c,s,i,u,y,h,l;s=new ee({}),u=new ae({});const $=o[1].default,d=F($,o,o[0],null);return{c(){e=_("header"),r=_("div"),r.innerHTML=n,c=k(),I(s.$$.fragment),i=k(),I(u.$$.fragment),y=k(),h=_("div"),d&&d.c(),this.h()},l(t){e=v(t,"HEADER",{class:!0});var a=x(e);r=v(a,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),O(r)!=="svelte-19ibqws"&&(r.innerHTML=n),c=L(a),A(s.$$.fragment,a),i=L(a),A(u.$$.fragment,a),a.forEach(f),y=L(t),h=v(t,"DIV",{class:!0});var b=x(h);d&&d.l(b),b.forEach(f),this.h()},h(){p(r,"class","header-flexer | flex gap-4 items-center"),W(r,"max-height","inherit"),p(e,"class","px-8 py-4 border-b-2 | flex justify-between gap-2"),p(h,"class","content-wrapper | px-8 pb-8 | mx-auto | flex svelte-1nayymi")},m(t,a){C(t,e,a),g(e,r),g(e,c),B(s,e,null),g(e,i),B(u,e,null),C(t,y,a),C(t,h,a),d&&d.m(h,null),l=!0},p(t,[a]){d&&d.p&&(!l||a&1)&&U(d,$,t,t[0],l?Q($,t[0],a,null):G(t[0]),null)},i(t){l||(M(s.$$.fragment,t),M(u.$$.fragment,t),M(d,t),l=!0)},o(t){D(s.$$.fragment,t),D(u.$$.fragment,t),D(d,t),l=!1},d(t){t&&(f(e),f(y),f(h)),j(s),j(u),d&&d.d(t)}}}function ne(o,e,r){let{$$slots:n={},$$scope:c}=e;return J(s=>{if(document.startViewTransition)return new Promise(i=>{document.startViewTransition(async()=>{i(),await s.complete})})}),o.$$set=s=>{"$$scope"in s&&r(0,c=s.$$scope)},[c,n]}class de extends q{constructor(e){super(),H(this,e,ne,re,R,{})}}export{de as component,ue as universal};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

import{s as R,n as E,o as P,r as N,i as z,u as F,v as U,w as G,x as Q}from"../chunks/scheduler.s29Zrdcm.js";import{S as q,i as H,e as v,f as $,j as O,k as p,l as C,B as T,d as m,s as k,g as w,a as L,n as _,C as V,c as I,b as A,v as W,m as B,t as M,o as D,p as j}from"../chunks/index.Ppprgl1c.js";import{o as J}from"../chunks/entry.lo89Neua.js";import{_ as K}from"../chunks/preload-helper.0HuHagjb.js";const X=!0,ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:X},Symbol.toStringTag,{value:"Module"}));function Y(o){let e,n='<span class="truncate | shrink grow basis-6">Rechercher</span> <i class="search-icon svelte-1t63zay"></i>',r,c;return{c(){e=v("button"),e.innerHTML=n,this.h()},l(s){e=$(s,"BUTTON",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-13x0i8q"&&(e.innerHTML=n),this.h()},h(){p(e,"class","relative | flex shrink min-w-2 items-center justify-between gap-4 | px-4 py-2 | border-2 rounded-md")},m(s,i){C(s,e,i),r||(c=T(e,"click",o[1]),r=!0)},p:E,i:E,o:E,d(s){s&&m(e),r=!1,c()}}}function Z(o,e,n){let r;return P(()=>{let s=document.querySelector("#search-dialog");n(0,r=()=>{s.showModal()})}),[r,()=>r()]}class ee extends q{constructor(e){super(),H(this,e,Z,Y,R,{})}}function te(o){let e,n,r,c,s,i,u,y="Rechercher",h,l,g,d;return{c(){e=v("dialog"),n=v("div"),r=v("search"),c=v("icon"),s=k(),i=v("form"),u=v("label"),u.textContent=y,h=k(),l=v("input"),this.h()},l(t){e=$(t,"DIALOG",{id:!0,class:!0});var a=w(e);n=$(a,"DIV",{id:!0,class:!0});var b=w(n);r=$(b,"SEARCH",{id:!0,class:!0});var x=w(r);c=$(x,"ICON",{class:!0}),w(c).forEach(m),s=L(x),i=$(x,"FORM",{});var f=w(i);u=$(f,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(u)!=="svelte-1gsdvn0"&&(u.textContent=y),h=L(f),l=$(f,"INPUT",{class:!0,type:!0,name:!0,id:!0,placeholder:!0}),f.forEach(m),x.forEach(m),b.forEach(m),a.forEach(m),this.h()},h(){p(c,"class","search-icon | shrink-0"),p(u,"class","sr-only"),p(u,"for","search"),p(l,"class","w-full | bg-inherit | outline-none | text-black"),p(l,"type","text"),p(l,"name","search"),p(l,"id","search"),p(l,"placeholder","Rechercher"),p(r,"id","search-box-open"),p(r,"class","flex items-center gap-4 | border-2 border-slate-400 rounded-md | px-4 py-2 | bg-white"),p(n,"id","inner-dialog"),p(n,"class","relative"),p(e,"id","search-dialog"),p(e,"class","svelte-1pe75uz")},m(t,a){C(t,e,a),_(e,n),_(n,r),_(r,c),_(r,s),_(r,i),_(i,u),_(i,h),_(i,l),V(l,o[1]),g||(d=[T(l,"keyup",o[3]),T(l,"input",o[4]),T(e,"click",function(){z(o[0])&&o[0].apply(this,arguments)})],g=!0)},p(t,[a]){o=t,a&2&&l.value!==o[1]&&V(l,o[1])},i:E,o:E,d(t){t&&m(e),g=!1,N(d)}}}function se(o,e,n){let r,c,s;P(()=>{c=document.querySelector("#search-dialog"),n(0,r=l=>{l.target==c&&c.close()})});let i="";const u=async()=>{const g=await(await K(()=>import("/pagefind/pagefind.js"),__vite__mapDeps([]),import.meta.url)).search(i);console.log(g);let d=g.results.length,t=document.createDocumentFragment();s&&(s.innerHTML="");let a=document.querySelector(".pagefind-message");if(s=document.querySelector(".pagefind-results"),a)a.textContent=`${d} résultats pour "${i}"`;else{let f=document.querySelector("#inner-dialog");console.log(f),s||(s=document.createElement("div"),s.classList.add("pagefind-results","flex","flex-col","bg-white","px-4","py-2","border-2","border-white","rounded-md"),f.appendChild(s)),a=document.createElement("p"),a.classList.add("pagefind-results-message"),a.innerHTML+=`${d} résultats pour <em>"${i}"</em>`}let b=document.createElement("ol");b.classList.add("pagefind-results-list");for(const f of g.results){let S=await f.data();console.log("data",S),b.innerHTML+=`
      <li><a class="pagefind-result-list-link" href="${S.url.replace(".html","")}">${S.meta.title}</a>
        <p class="pagefind-result-list-excerpt">${S.excerpt}</p>
        </li>
      `}t.appendChild(a),t.appendChild(b),s.appendChild(t);let x=document.querySelectorAll(".pagefind-result-list-link");console.log("allSearchResults",x),x.forEach(f=>{f.addEventListener("click",()=>{f.closest("#search-dialog").close()})})},y=()=>u();function h(){i=this.value,n(1,i)}return[r,i,u,y,h]}class ae extends q{constructor(e){super(),H(this,e,se,te,R,{})}}function ne(o){let e,n,r='<div class="header-img-container | shrink-0" style="max-height: inherit;"><a href="/"><img class="max-h-10" width="36.36" height="39.99" src="/vue.svg" alt="Blason de la commune de Vue"/></a></div> <a href="/"><span class="text-xl" style="min-width: min-content;">Commune de Vue</span></a>',c,s,i,u,y,h,l;s=new ee({}),u=new ae({});const g=o[1].default,d=F(g,o,o[0],null);return{c(){e=v("header"),n=v("div"),n.innerHTML=r,c=k(),I(s.$$.fragment),i=k(),I(u.$$.fragment),y=k(),h=v("div"),d&&d.c(),this.h()},l(t){e=$(t,"HEADER",{class:!0});var a=w(e);n=$(a,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),O(n)!=="svelte-19ibqws"&&(n.innerHTML=r),c=L(a),A(s.$$.fragment,a),i=L(a),A(u.$$.fragment,a),a.forEach(m),y=L(t),h=$(t,"DIV",{class:!0});var b=w(h);d&&d.l(b),b.forEach(m),this.h()},h(){p(n,"class","header-flexer | flex gap-4 items-center"),W(n,"max-height","inherit"),p(e,"class","px-8 py-4 border-b-2 | flex justify-between gap-2"),p(h,"class","content-wrapper | px-8 pb-8 | mx-auto | flex svelte-1nayymi")},m(t,a){C(t,e,a),_(e,n),_(e,c),B(s,e,null),_(e,i),B(u,e,null),C(t,y,a),C(t,h,a),d&&d.m(h,null),l=!0},p(t,[a]){d&&d.p&&(!l||a&1)&&U(d,g,t,t[0],l?Q(g,t[0],a,null):G(t[0]),null)},i(t){l||(M(s.$$.fragment,t),M(u.$$.fragment,t),M(d,t),l=!0)},o(t){D(s.$$.fragment,t),D(u.$$.fragment,t),D(d,t),l=!1},d(t){t&&(m(e),m(y),m(h)),j(s),j(u),d&&d.d(t)}}}function re(o,e,n){let{$$slots:r={},$$scope:c}=e;return J(s=>{if(document.startViewTransition)return new Promise(i=>{document.startViewTransition(async()=>{i(),await s.complete})})}),o.$$set=s=>{"$$scope"in s&&n(0,c=s.$$scope)},[c,r]}class de extends q{constructor(e){super(),H(this,e,re,ne,R,{})}}export{de as component,ue as universal};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

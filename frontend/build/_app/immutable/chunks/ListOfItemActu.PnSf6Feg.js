import{s as J,n as P,a as R}from"./scheduler.h1jTRUOO.js";import{S as K,i as N,e as m,b as _,f as g,d as h,k as i,l as H,w as Q,q as O,s as x,r as V,a as C,v as U,m as f,u as B}from"./index.P28DLdQx.js";import{e as j}from"./each.6w4Ej4nR.js";import{c as W}from"./client._1iTYoDs.js";function z(o,s,l){const e=o.slice();return e[3]=s[l],e}function F(o){let s,l,e,a=new Date(o[3].node.date).toLocaleDateString("fr")+"",c,t,r,D=o[3].node.titre+"",E,A,L,p,y=o[3].node.desc+"",I,q,v,u,b,k,S;return{c(){s=m("article"),l=m("div"),e=m("time"),c=O(a),t=x(),r=m("a"),E=O(D),L=x(),p=m("p"),I=O(y),q=x(),v=m("div"),u=m("img"),S=x(),this.h()},l(d){s=_(d,"ARTICLE",{class:!0});var n=g(s);l=_(n,"DIV",{class:!0});var w=g(l);e=_(w,"TIME",{class:!0});var M=g(e);c=V(M,a),M.forEach(h),t=C(w),r=_(w,"A",{href:!0,class:!0});var T=g(r);E=V(T,D),T.forEach(h),L=C(w),p=_(w,"P",{class:!0});var $=g(p);I=V($,y),$.forEach(h),w.forEach(h),q=C(n),v=_(n,"DIV",{class:!0,style:!0});var G=g(v);u=_(G,"IMG",{src:!0,alt:!0,class:!0}),G.forEach(h),S=C(n),n.forEach(h),this.h()},h(){i(e,"class","text-xs text-slate-600"),i(r,"href",A="/actualites/"+o[3].node._sys.filename),i(r,"class","mt-2 |text-lg font-semibold"),i(p,"class","mt-1 | text-xs truncate | shrink"),i(l,"class","p-4 self-center flex-1 | flex flex-col svelte-19mwt5i"),R(u.src,b=o[3].node.image)||i(u,"src",b),i(u,"alt",k=o[3].node.imagealt),i(u,"class","svelte-19mwt5i"),i(v,"class","img-container flex-1 svelte-19mwt5i"),U(v,"width","inherit"),i(s,"class","border-2 rounded-md | mt-4 svelte-19mwt5i")},m(d,n){H(d,s,n),f(s,l),f(l,e),f(e,c),f(l,t),f(l,r),f(r,E),f(l,L),f(l,p),f(p,I),f(s,q),f(s,v),f(v,u),f(s,S)},p(d,n){n&1&&a!==(a=new Date(d[3].node.date).toLocaleDateString("fr")+"")&&B(c,a),n&1&&D!==(D=d[3].node.titre+"")&&B(E,D),n&1&&A!==(A="/actualites/"+d[3].node._sys.filename)&&i(r,"href",A),n&1&&y!==(y=d[3].node.desc+"")&&B(I,y),n&1&&!R(u.src,b=d[3].node.image)&&i(u,"src",b),n&1&&k!==(k=d[3].node.imagealt)&&i(u,"alt",k)},d(d){d&&h(s)}}}function X(o){let s,l=j(o[0]),e=[];for(let a=0;a<l.length;a+=1)e[a]=F(z(o,l,a));return{c(){s=m("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){s=_(a,"DIV",{class:!0});var c=g(s);for(let t=0;t<e.length;t+=1)e[t].l(c);c.forEach(h),this.h()},h(){i(s,"class","article-list")},m(a,c){H(a,s,c);for(let t=0;t<e.length;t+=1)e[t]&&e[t].m(s,null)},p(a,[c]){if(c&1){l=j(a[0]);let t;for(t=0;t<l.length;t+=1){const r=z(a,l,t);e[t]?e[t].p(r,c):(e[t]=F(r),e[t].c(),e[t].m(s,null))}for(;t<e.length;t+=1)e[t].d(1);e.length=l.length}},i:P,o:P,d(a){a&&h(s),Q(e,a)}}}function Y(o,s,l){let e=[];async function a(){const t=await W.queries.articleConnection();try{const{data:{articleConnection:{edges:r}}}=t;return l(0,e=r),e}catch{console.error(500,"Could not find articles on the server")}}return a(),(async()=>{l(0,e=await a()),e.sort((t,r)=>new Date(r.node.date)-new Date(t.node.date))})(),[e]}class se extends K{constructor(s){super(),N(this,s,Y,X,J,{})}}export{se as L};

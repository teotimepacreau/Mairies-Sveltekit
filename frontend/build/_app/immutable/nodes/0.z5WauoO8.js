import{s as D,e as v,b as $,g as N,i as f,j as C,P as O,n as L,d as g,x as J,a as x,f as E,c as k,k as m,a4 as z,m as X,r as Y,B as K,t as B,o as P,p as F,C as Z,u as ee,D as te,E as se,F as ae}from"../chunks/scheduler.6KkPDUoR.js";import{S as j,i as A,c as H,a as R,m as I,t as S,b as T,d as V}from"../chunks/index.CkG_4i5l.js";import{o as ne}from"../chunks/entry.PEqWDx8r.js";import{_ as re}from"../chunks/preload-helper.0HuHagjb.js";import{e as M}from"../chunks/each.-2132Rvm.js";import{c as le}from"../chunks/client._1iTYoDs.js";const ie=!0,ke=Object.freeze(Object.defineProperty({__proto__:null,prerender:ie},Symbol.toStringTag,{value:"Module"}));function oe(u){let e,n='<span class="truncate | shrink grow basis-6">Rechercher</span> <i class="search-icon svelte-1t63zay"></i>',r,o;return{c(){e=v("button"),e.innerHTML=n,this.h()},l(l){e=$(l,"BUTTON",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-13x0i8q"&&(e.innerHTML=n),this.h()},h(){f(e,"class","relative | flex shrink min-w-2 items-center justify-between gap-4 | px-4 py-2 | border-2 rounded-md")},m(l,i){C(l,e,i),r||(o=O(e,"click",u[1]),r=!0)},p:L,i:L,o:L,d(l){l&&g(e),r=!1,o()}}}function ce(u,e,n){let r;return J(()=>{let l=document.querySelector("#search-dialog");n(0,r=()=>{l.showModal()})}),[r,()=>r()]}class ue extends j{constructor(e){super(),A(this,e,ce,oe,D,{})}}function de(u){let e,n,r,o,l,i,s,a="Rechercher",c,t,d,w;return{c(){e=v("dialog"),n=v("div"),r=v("search"),o=v("icon"),l=x(),i=v("form"),s=v("label"),s.textContent=a,c=x(),t=v("input"),this.h()},l(y){e=$(y,"DIALOG",{id:!0,class:!0});var p=E(e);n=$(p,"DIV",{id:!0,class:!0});var h=E(n);r=$(h,"SEARCH",{id:!0,class:!0});var _=E(r);o=$(_,"ICON",{class:!0}),E(o).forEach(g),l=k(_),i=$(_,"FORM",{});var b=E(i);s=$(b,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(s)!=="svelte-1gsdvn0"&&(s.textContent=a),c=k(b),t=$(b,"INPUT",{class:!0,type:!0,name:!0,id:!0,placeholder:!0}),b.forEach(g),_.forEach(g),h.forEach(g),p.forEach(g),this.h()},h(){f(o,"class","search-icon | shrink-0"),f(s,"class","sr-only"),f(s,"for","search"),f(t,"class","w-full | bg-inherit | outline-none | text-black"),f(t,"type","text"),f(t,"name","search"),f(t,"id","search"),f(t,"placeholder","Rechercher"),f(r,"id","search-box-open"),f(r,"class","flex items-center gap-4 | border-2 border-slate-400 rounded-md | px-4 py-2 | bg-white"),f(n,"id","inner-dialog"),f(n,"class","relative"),f(e,"id","search-dialog"),f(e,"class","svelte-1pe75uz")},m(y,p){C(y,e,p),m(e,n),m(n,r),m(r,o),m(r,l),m(r,i),m(i,s),m(i,c),m(i,t),z(t,u[1]),d||(w=[O(t,"keyup",u[3]),O(t,"input",u[4]),O(e,"click",function(){X(u[0])&&u[0].apply(this,arguments)})],d=!0)},p(y,[p]){u=y,p&2&&t.value!==u[1]&&z(t,u[1])},i:L,o:L,d(y){y&&g(e),d=!1,Y(w)}}}function he(u,e,n){let r,o,l;J(()=>{o=document.querySelector("#search-dialog"),n(0,r=t=>{t.target==o&&o.close()})});let i="";const s=async()=>{const d=await(await re(()=>import("/pagefind/pagefind.js"),__vite__mapDeps([]),import.meta.url)).search(i);let w=d.results.length,y=document.createDocumentFragment();l&&(l.innerHTML="");let p=document.querySelector(".pagefind-message");if(l=document.querySelector(".pagefind-results"),p)p.textContent=`${w} résultats pour "${i}"`;else{let b=document.querySelector("#inner-dialog");l||(l=document.createElement("div"),l.classList.add("pagefind-results","flex","flex-col","bg-white","px-4","py-2","border-2","border-white","rounded-md"),b.appendChild(l)),p=document.createElement("p"),p.classList.add("pagefind-results-message"),p.innerHTML+=`${w} résultats pour <em>"${i}"</em>`}let h=document.createElement("ol");h.classList.add("pagefind-results-list");for(const b of d.results){let q=await b.data();console.log("data",q),h.innerHTML+=`
      <li><a class="pagefind-result-list-link" href="${q.url.replace(".html","")}">${q.meta.title}</a>
        <p class="pagefind-result-list-excerpt">${q.excerpt}</p>
        </li>
      `}y.appendChild(p),y.appendChild(h),l.appendChild(y),document.querySelectorAll(".pagefind-result-list-link").forEach(b=>{b.addEventListener("click",()=>{b.closest("#search-dialog").close()})})},a=()=>s();function c(){i=this.value,n(1,i)}return[r,i,s,a,c]}class fe extends j{constructor(e){super(),A(this,e,he,de,D,{})}}function U(u,e,n){const r=u.slice();return r[4]=e[n],r[6]=n,r}function G(u,e,n){const r=u.slice();return r[7]=e[n],r}function Q(u){let e,n,r=u[7][1].node.emoji+"",o,l,i,s=u[7][1].node.titre+"",a,c;return{c(){e=v("a"),n=v("i"),o=B(r),l=x(),i=v("span"),a=B(s),this.h()},l(t){e=$(t,"A",{href:!0,class:!0});var d=E(e);n=$(d,"I",{"aria-hidden":!0});var w=E(n);o=P(w,r),w.forEach(g),l=k(d),i=$(d,"SPAN",{class:!0});var y=E(i);a=P(y,s),y.forEach(g),d.forEach(g),this.h()},h(){f(n,"aria-hidden","true"),f(i,"class","svelte-1rt85q7"),f(e,"href",c="/pages/"+u[7][1].node._sys.filename),f(e,"class","svelte-1rt85q7")},m(t,d){C(t,e,d),m(e,n),m(n,o),m(e,l),m(e,i),m(i,a)},p(t,d){d&1&&r!==(r=t[7][1].node.emoji+"")&&F(o,r),d&1&&s!==(s=t[7][1].node.titre+"")&&F(a,s),d&1&&c!==(c="/pages/"+t[7][1].node._sys.filename)&&f(e,"href",c)},d(t){t&&g(e)}}}function W(u){let e,n,r=u[4][0]+"",o,l,i=M(Object.entries(u[4][1])),s=[];for(let a=0;a<i.length;a+=1)s[a]=Q(G(u,i,a));return{c(){e=v("li"),n=v("span"),o=B(r),l=x();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=$(a,"LI",{class:!0});var c=E(e);n=$(c,"SPAN",{class:!0});var t=E(n);o=P(t,r),t.forEach(g),l=k(c);for(let d=0;d<s.length;d+=1)s[d].l(c);c.forEach(g),this.h()},h(){f(n,"class","eyebrow svelte-1rt85q7"),f(e,"class","svelte-1rt85q7")},m(a,c){C(a,e,c),m(e,n),m(n,o),m(e,l);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(a,c){if(c&1&&r!==(r=a[4][0]+"")&&F(o,r),c&1){i=M(Object.entries(a[4][1]));let t;for(t=0;t<i.length;t+=1){const d=G(a,i,t);s[t]?s[t].p(d,c):(s[t]=Q(d),s[t].c(),s[t].m(e,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=i.length}},d(a){a&&g(e),K(s,a)}}}function pe(u){let e,n,r,o,l='<span class="eyebrow svelte-1rt85q7">Contact</span> <a href="/contact" class="svelte-1rt85q7"><i aria-hidden="true">✉️</i> <span class="svelte-1rt85q7">Formulaire de contact</span></a>',i=M(Object.entries(u[0])),s=[];for(let a=0;a<i.length;a+=1)s[a]=W(U(u,i,a));return{c(){e=v("nav"),n=v("menu");for(let a=0;a<s.length;a+=1)s[a].c();r=x(),o=v("li"),o.innerHTML=l,this.h()},l(a){e=$(a,"NAV",{class:!0});var c=E(e);n=$(c,"MENU",{class:!0});var t=E(n);for(let d=0;d<s.length;d+=1)s[d].l(t);r=k(t),o=$(t,"LI",{class:!0,"data-svelte-h":!0}),N(o)!=="svelte-prnad1"&&(o.innerHTML=l),t.forEach(g),c.forEach(g),this.h()},h(){f(o,"class","svelte-1rt85q7"),f(n,"class","svelte-1rt85q7"),f(e,"class","pl-4 pr-8 pt-8 | border-r-2")},m(a,c){C(a,e,c),m(e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null);m(n,r),m(n,o)},p(a,[c]){if(c&1){i=M(Object.entries(a[0]));let t;for(t=0;t<i.length;t+=1){const d=U(a,i,t);s[t]?s[t].p(d,c):(s[t]=W(d),s[t].c(),s[t].m(n,r))}for(;t<s.length;t+=1)s[t].d(1);s.length=i.length}},i:L,o:L,d(a){a&&g(e),K(s,a)}}}function me(u,e,n){let r=[];async function o(){const s=await le.queries.pagesConnection();try{const{data:{pagesConnection:{edges:a}}}=s;return r=a,r}catch{console.error(500,"Could not find articles on the server")}}o();let l=[];async function i(){return r=await o(),n(0,l=r.reduce((s,a)=>(a.node.categorie in s||(s[a.node.categorie]=[]),s[a.node.categorie].push(a),s),{})),l}return i(),[l]}class ge extends j{constructor(e){super(),A(this,e,me,pe,D,{})}}function _e(u){let e,n,r='<div class="header-img-container | shrink-0" style="max-height: inherit;"><a href="/"><img class="max-h-10" width="36.36" height="39.99" src="/vue.svg" alt="Blason de la commune de Vue"/></a></div> <a href="/"><span class="text-xl" style="min-width: min-content;">Commune de Vue</span></a>',o,l,i,s,a,c,t,d,w;l=new ue({}),s=new fe({}),t=new ge({});const y=u[1].default,p=Z(y,u,u[0],null);return{c(){e=v("header"),n=v("div"),n.innerHTML=r,o=x(),H(l.$$.fragment),i=x(),H(s.$$.fragment),a=x(),c=v("div"),H(t.$$.fragment),d=x(),p&&p.c(),this.h()},l(h){e=$(h,"HEADER",{class:!0});var _=E(e);n=$(_,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),N(n)!=="svelte-19ibqws"&&(n.innerHTML=r),o=k(_),R(l.$$.fragment,_),i=k(_),R(s.$$.fragment,_),_.forEach(g),a=k(h),c=$(h,"DIV",{class:!0});var b=E(c);R(t.$$.fragment,b),d=k(b),p&&p.l(b),b.forEach(g),this.h()},h(){f(n,"class","header-flexer | flex gap-4 items-center"),ee(n,"max-height","inherit"),f(e,"class","px-8 py-4 border-b-2 | flex justify-between gap-2"),f(c,"class","content-wrapper | px-8 pb-8 | mx-auto | flex svelte-1x1g8l2")},m(h,_){C(h,e,_),m(e,n),m(e,o),I(l,e,null),m(e,i),I(s,e,null),C(h,a,_),C(h,c,_),I(t,c,null),m(c,d),p&&p.m(c,null),w=!0},p(h,[_]){p&&p.p&&(!w||_&1)&&te(p,y,h,h[0],w?ae(y,h[0],_,null):se(h[0]),null)},i(h){w||(S(l.$$.fragment,h),S(s.$$.fragment,h),S(t.$$.fragment,h),S(p,h),w=!0)},o(h){T(l.$$.fragment,h),T(s.$$.fragment,h),T(t.$$.fragment,h),T(p,h),w=!1},d(h){h&&(g(e),g(a),g(c)),V(l),V(s),V(t),p&&p.d(h)}}}function ve(u,e,n){let{$$slots:r={},$$scope:o}=e;return ne(l=>{if(document.startViewTransition)return new Promise(i=>{document.startViewTransition(async()=>{i(),await l.complete})})}),u.$$set=l=>{"$$scope"in l&&n(0,o=l.$$scope)},[o,r]}class Ce extends j{constructor(e){super(),A(this,e,ve,_e,D,{})}}export{Ce as component,ke as universal};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
